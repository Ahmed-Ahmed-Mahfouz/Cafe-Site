@model Cafe_Site.ViewModels.MenuViewModel


  <!DOCTYPE HTML>
  <html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Tasty</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:300,300i,400,400i,500,600i,700"
      rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Satisfy" rel="stylesheet">

    <!-- Animate.css -->
    <link rel="stylesheet" href="css/animate.css">
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" href="css/icomoon.css">
    <!-- Bootstrap  -->
    @* <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" /> *@
    <link rel="stylesheet" href="css/bootstrap.css">
    <!-- Flexslider  -->
    <link rel="stylesheet" href="css/flexslider.css">

    <!-- Theme style  -->
    <link rel="stylesheet" href="css/style.css">

    <!-- Modernizr JS -->
    <script src="js/modernizr-2.6.2.min.js"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
	<script src="js/respond.min.js"></script>
	<![endif]-->

    <style>
        .pagination-container {
            margin-top: 20px;
            text-align: center; /* Center the pagination */
        }

            .pagination-container ul.pagination li a,
            .pagination-container ul.pagination li span {
                color: #ffffff; /* Text color */
                background-color: #f0ad4e; /* Yellow background color */
                border: 1px solid #eea236; /* Darker yellow border */
                padding: 5px 10px; /* Padding */
                margin: 0 5px; /* Margin between items */
                border-radius: 4px; /* Rounded corners */
            }

            .pagination-container ul.pagination li.active span {
                background-color: gray; /* Gray background for active page */
                border-color: #555555; /* Darker border for active page */
            }

            .pagination-container ul.pagination li.disabled span,
            .pagination-container ul.pagination li.disabled a {
                color: #aaaaaa; /* Disabled text color */
                background-color: #ffffff; /* Disabled background color */
                border-color: #dddddd; /* Disabled border color */
            }

            .pagination-container ul.pagination li a:hover {
                background-color: #e0a21d; /* Darker yellow on hover */
            }
    </style>



  </head>

  <body>

    <div class="fh5co-loader"></div>

    <div id="page">
      <nav class="fh5co-nav" role="navigation">
        <div class="container">
          <div class="row">
            <div class="col-xs-12 text-center logo-wrap">
              <div id="fh5co-logo"><a href="index.html">Tasty<span>.</span></a></div>
            </div>
            <div class="col-xs-12 text-center menu-1 menu-wrap">
              <ul>
                <li><a href="home">Home</a></li>
                <li class="active"><a href="menu">Menu</a></li>
                <li class="has-dropdown">
                  <a href="gallery.html">Gallery</a>
                  <ul class="dropdown">
                    <li><a href="#">Events</a></li>
                    <li><a href="#">Food</a></li>
                    <li><a href="#">Coffees</a></li>
                  </ul>
                </li>
                <li><a href="reservation.html">Reservation</a></li>
                <li><a href="about">About</a></li>
                <li><a href="contact.html">Contact</a></li>
              </ul>
            </div>
          </div>

        </div>
        <!-- </div> -->
      </nav>

      <header id="fh5co-header" class="fh5co-cover js-fullheight" role="banner"
        style="background-image: url(images/hero_1.jpeg);" data-stellar-background-ratio="0.5">
        <div class="overlay"></div>
        <div class="container">
          <div class="row">
            <div class="col-md-12 text-center">
              <div class="display-t js-fullheight">
                <div class="display-tc js-fullheight animate-box" data-animate-effect="fadeIn">
                  <h1>See <em>Our</em> Menu</h1>
                </div>
              </div>
            </div>
          </div>
        </div>
      </header>

        <div id="fh5co-featured-menu" class="fh5co-section">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 fh5co-heading animate-box">
                        <h2>Our Delicous Menu</h2>
                        <div class="row">
                            <div class="col-md-6">
                                <p>
                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Reiciendis ab debitis sit itaque totam, a
                                    maiores nihil, nulla magnam porro minima officiis! Doloribus aliquam voluptates corporis et tempora
                                    consequuntur ipsam, itaque, nesciunt similique commodi omnis. Ad magni perspiciatis, voluptatum
                                    repellat.
                                </p>
                            </div>
                        </div>
                    </div>

                    @* <partial name="_ProductsPartial" id="parView" /> *@

                    <div id="parView">
                        <partial name="_ProductsPartial" />
                    </div>
              </div>
            </div>
          </div>
        </div>
    <div class="pagination-container text-center" id="container">
        @if (Model.TotalPages > 1)
        {
            <ul class="pagination">
                @if (Model.CurrentPage > 1)
                {
                    <li><a href="#" class="pagination-link" data-page="@(Model.CurrentPage - 1)">Previous</a></li>
                }

                @for (int i = 1; i <= Model.TotalPages; i++)
                {
                    if (i == Model.CurrentPage)
                    {
                        <li class="active"><span>@i</span></li>
                    }
                    else
                    {
                        <li><a href="#" class="pagination-link" data-page="@i">@i</a></li>
                    }
                }

                @if (Model.CurrentPage < Model.TotalPages)
                {
                    <li><a href="#" class="pagination-link" data-page="@(Model.CurrentPage + 1)">Next</a></li>
                }
            </ul>
        }
    </div>


      </div>

      <div id="fh5co-featured-testimony" class="fh5co-section">
        <div class="container">
          <div class="row">
            <div class="col-md-12 fh5co-heading animate-box">
              <h2>Testimony</h2>
              <div class="row">
                <div class="col-md-6">
                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Reiciendis ab debitis sit itaque totam, a
                    maiores nihil, nulla magnam porro minima officiis! Doloribus aliquam voluptates corporis et tempora
                    consequuntur ipsam, itaque, nesciunt similique commodi omnis.</p>
                </div>
              </div>
            </div>

            <div class="col-md-5 animate-box img-to-responsive">
              <img src="images/person_1.jpg" alt="">
            </div>
            <div class="col-md-7 animate-box">
              <blockquote>
                <p> &ldquo; Quantum ipsum dolor sit amet, consectetur adipisicing elit. Reiciendis ab debitis sit itaque
                  totam, a maiores nihil, nulla magnam porro minima officiis! Doloribus aliquam voluptates corporis et
                  tempora consequuntur ipsam. &rdquo;</p>
                <p class="author"><cite>&mdash; Jane Smith</cite></p>
              </blockquote>
            </div>
          </div>
        </div>
      </div>

      <footer id="fh5co-footer" role="contentinfo" class="fh5co-section">
        <div class="container">
          <div class="row row-pb-md">
            <div class="col-md-4 fh5co-widget">
              <h4>Tasty</h4>
              <p>Facilis ipsum reprehenderit nemo molestias. Aut cum mollitia reprehenderit. Eos cumque dicta adipisci
                architecto culpa amet.</p>
            </div>
            <div class="col-md-2 col-md-push-1 fh5co-widget">
              <h4>Links</h4>
              <ul class="fh5co-footer-links">
                <li><a href="home">Home</a></li>
                <li><a href="#">Portfolio</a></li>
                <li><a href="#">Blog</a></li>
                <li><a href="about">About</a></li>
              </ul>
            </div>

            <div class="col-md-2 col-md-push-1 fh5co-widget">
              <h4>Categories</h4>
              <ul class="fh5co-footer-links">
                <li><a href="#">Landing Page</a></li>
                <li><a href="#">Real Estate</a></li>
                <li><a href="#">Personal</a></li>
                <li><a href="#">Business</a></li>
                <li><a href="#">e-Commerce</a></li>
              </ul>
            </div>

            <div class="col-md-4 col-md-push-1 fh5co-widget">
              <h4>Contact Information</h4>
              <ul class="fh5co-footer-links">
                <li>198 West 21th Street, <br> Suite 721 New York NY 10016</li>
                <li><a href="tel://1234567920">+ 1235 2355 98</a></li>
                <li><a href="mailto:info@yoursite.com">info@yoursite.com</a></li>
              </ul>
            </div>

          </div>

          <div class="row copyright">
            <div class="col-md-12 text-center">
              <p>
                <small class="block">&copy; 2024 All Rights Reserved.</small>
@*                 <small class="block">Designed by <a href="http://freehtml5.co/" target="_blank">FreeHTML5.co</a> Demo
                  Images: <a href="http://unsplash.co/" target="_blank">Unsplash</a></small> *@
              </p>
              <p>
              <ul class="fh5co-social-icons">
                <li><a href="#"><i class="icon-twitter2"></i></a></li>
                <li><a href="#"><i class="icon-facebook2"></i></a></li>
                <li><a href="#"><i class="icon-linkedin2"></i></a></li>
                <li><a href="#"><i class="icon-dribbble2"></i></a></li>
              </ul>
              </p>
            </div>
          </div>

        </div>
      </footer>
    </div>

    <div class="gototop js-top">
      <a href="#" class="js-gotop"><i class="icon-arrow-up22"></i></a>
    </div>

    <!-- jQuery -->
    <script src="js/jquery.min.js"></script>
    <!-- jQuery Easing -->
    <script src="js/jquery.easing.1.3.js"></script>
    <!-- Bootstrap -->
    <script src="js/bootstrap.min.js"></script>
    @* <script src="~/lib/bootstrap/dist/js/bootstrap.min.js"></script> *@
    <!-- Waypoints -->
    <script src="js/jquery.waypoints.min.js"></script>
    <!-- Waypoints -->
    <script src="js/jquery.stellar.min.js"></script>
    <!-- Flexslider -->
    <script src="js/jquery.flexslider-min.js"></script>
    <!-- Main -->
    <script src="js/main.js"></script>
    <script>
        $(document).ready(function () {
            $("#container").on('click', '.pagination-link', function (e) {
                e.preventDefault(); // Prevent default navigation behavior
                var page = $(this).data("page");
                // var url = 'Url.Action("GetProducts", "Menu")';
                var url = '/menu/getproducts';
                // var currentPage = Model.CurrentPage;

                console.log("Fetching page:", page);
                console.log("URL:", url);
                console.log("Data:", { page: page });

                $.ajax({
                    url: url,
                    type: "GET",
                    data: { page: page },
                    beforeSend: function () {
                        // Show loading spinner or message
                    },
                    success: function (result) {
                        console.log("AJAX Response:", result);

                        var newContent = result;
                        // var newPage = $(result).find('#products-section').data('current-page');
                        // var totalPages = $(result).find('#products-section').data('total-pages');

                        // var newPage = result.getElementById("products-section").getAttribute("data-current-page");
                        // var totalPages = result.getElementById("products-section").getAttribute("data-total-pages");

                        // Check if newContent is defined
                        if (newContent) {
                            // Update image URLs to force reload
                            var timestamp = new Date().getTime();
                            // newContent = newContent.replace(/src="data:image\/png;base64,/g, 'src="data:image/png;base64,' + timestamp);

                            $("#parView").html(newContent);
                            // contentWayPoint();
                            // $("#products-section").html(newContent);

                            // document.getElementById("problem").classList.remove('animate-box');
                            // void document.getElementById("problem").offsetWidth;
                            // document.getElementById("problem").classList.add('animate-box');

                            // document.getElementById("problem").style.opacity = 1;
                            var i = 0;

                            $(".problem").waypoint(function (direction) {

                                if (direction === 'down' && !$(this.element).hasClass('animated-fast')) {

                                    i++;

                                    $(this.element).addClass('item-animate');
                                    setTimeout(function () {

                                        $('body .animate-box.item-animate').each(function (k) {
                                            var el = $(this);
                                            setTimeout(function () {
                                                var effect = el.data('animate-effect');
                                                if (effect === 'fadeIn') {
                                                    el.addClass('fadeIn animated-fast');
                                                } else if (effect === 'fadeInLeft') {
                                                    el.addClass('fadeInLeft animated-fast');
                                                } else if (effect === 'fadeInRight') {
                                                    el.addClass('fadeInRight animated-fast');
                                                } else {
                                                    el.addClass('fadeInUp animated-fast');
                                                }

                                                el.removeClass('item-animate');
                                            }, k * 200, 'easeInOutExpo');
                                        });

                                    }, 100);

                                }

                            }, { offset: '85%' });

                            var newPage = document.getElementById("products-section").getAttribute("data-current-page");
                            var totalPages = document.getElementById("products-section").getAttribute("data-total-pages");

                            // Update pagination links
                            console.log("currentPage " + newPage);
                            console.log("totalPages " + totalPages);
                            updatePaginationLinks(newPage, totalPages);

                            console.log("Success:", result);

                            console.log("Inner HTML", document.getElementById("parView").innerHTML);
                        } else {
                            console.log("Error: New content is undefined");
                        }
                    },


                    error: function (error) {
                        console.log("Error:", error);
                        console.log("Error Response:", error.responseText);
                    }
                });
            });
        });

        function updatePaginationLinks(currentPage, totalPages) {
            // Clear existing pagination links
            $(".pagination-container").empty();

            // Create new pagination links
            var paginationContainer = $(".pagination-container");
            var paginationList = $("<ul>").addClass("pagination");

            console.log("currentPage " + currentPage);
            console.log("totalPages " + totalPages);

            // Previous button
            if (Number(currentPage) > 1) {
                var prevLink = $("<li>").append($("<a>").addClass("pagination-link").attr("href", "#").attr("data-page", Number(currentPage) - 1).text("Previous"));
                paginationList.append(prevLink);
            }

            // Numbered pages
            for (var i = 1; i <= Number(totalPages); i++) {
                var pageLink = $("<li>").append($("<a>").addClass("pagination-link").attr("href", "#").attr("data-page", i).text(i));
                if (i === Number(currentPage)) {
                    // pageLink.addClass("active");
                    pageLink = $("<li>").addClass("active").append($("<span>").text(i));
                }
                paginationList.append(pageLink);
            }

            // Next button
            if (Number(currentPage) < Number(totalPages)) {
                var nextLink = $("<li>").append($("<a>").addClass("pagination-link").attr("href", "#").attr("data-page", Number(currentPage) + 1).text("Next"));
                paginationList.append(nextLink);
            }

            // Append pagination links to container
            paginationContainer.append(paginationList);

            // Attach click event to pagination links
            // $(".pagination-link").on("click", function (e) {
            //     e.preventDefault();
            //     var page = $(this).data("page");
            //     fetchProducts(page);
            // });
        }



    </script>

  </body>

  </html>